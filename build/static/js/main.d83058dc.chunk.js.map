{"version":3,"sources":["utils/web3.js","components/layout/Setup.js","components/layout/Main.js","actions/web3Actions.js","components/layout/Navbar.js","components/notFound/NotFound.js","utils/string.js","components/images/ImageItem.js","components/images/Images.js","components/image/ImageDetail.js","reducers/web3Reducer.js","reducers/imageReducer.js","reducers/index.js","store.js","Routers/Routers.js","App.js","index.js","components/common/Spinner.js","components/common/spinner.gif","utils/ipfs.js","actions/types.js","components/image/UploadImage.js","../node_modules/truffle-contract/node_modules/web3-eth-accounts/src sync","../node_modules/truffle-interface-adapter/node_modules/web3-eth-accounts/src sync","actions/imageActions.js"],"names":["web3","require","config","process","ropsten_key","onConnect","a","window","Web3","givenProvider","eth","requestAccounts","console","log","ethereum","request","method","params","chainId","chainName","nativeCurrency","name","symbol","decimals","blockExplorerUrls","rpcUrls","provider","ganache","Setup","className","Component","Main","this","props","web3Connect","renderItems","loading","error","Spinner","role","children","withRouter","connect","state","dispatch","getState","imageRegisterContract","contract","ImageRegisterContractArtifact","setProvider","currentProvider","deployed","contractInstance","LogImageUploaded","result","type","WEB3_ERROR","payload","getImages","getAccounts","accounts","account","WEB3_CONNECTED","toLowerCase","errorMessage","message","Navbar","id","href","Link","to","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","cx","cy","r","textTruncate","str","length","ending","substring","ImageItem","image","index","ipfsHash","title","description","tags","uploadedOn","altDescription","src","alt","split","map","tag","idx","target","rel","Images","nextProps","nextState","images","imageItems","style","backgroundSize","opacity","ImageDetail","show","buttonDisabled","sendAddress","handleChange","event","setState","value","buttonClose","prevState","handleSharedImage","preventDefault","sharedImage","tx","toastr","success","handleDownload","url","filename","FileSaver","saveAs","handleDownloadbtn","handleShow","handleClose","getImage","match","blockHash","blockNumber","transactionHash","transactionIndex","cumulativeGasUsed","gasUsed","Button","variant","onClick","Modal","onHide","Header","closeButton","Title","Body","Form","Group","controlId","Label","Control","ref","onChange","placeholder","Footer","disabled","scope","initialState","combineReducers","action","WEB3_ACCOUNT_CHANGE","GET_IMAGES","GET_IMAGES_SUCCESS","imagesByIndex","keyBy","updatedImages","GET_IMAGE","UPLOAD_IMAGE","UPLOAD_IMAGE_SUCCESS","SET_ERROR","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","store","createStore","rootReducer","applyMiddleware","Routers","Switch","Route","exact","path","component","UploadImage","NotFound","App","ReactDOM","render","document","getElementById","margin","display","ipfs","IPFS","host","port","protocol","SHARE_IMAGE","SHARE_IMAGE_SUCCESS","buffer","file","captureFile","files","reader","FileReader","readAsArrayBuffer","onloadend","Buffer","URL","createObjectURL","handleUploadImage","uploadImage","history","push","onSubmit","htmlFor","required","rows","webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","web3State","localData","localStorage","getItem","localImages","JSON","parse","getImageCount","call","from","count","imageCount","toNumber","imageResult","convertTimestampToString","setItem","stringify","add","hash","get","txReceipt","receipt","newImage","shareImage","timestamp","tempDate","Date","toString"],"mappings":"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","file":"static/js/main.d83058dc.chunk.js","sourcesContent":["import Web3 from 'web3';\n// import React, { useEffect } from 'react';\n\nrequire('dotenv').config();\n\nlet web3;\n\n// const ganache = 'http://127.0.0.1:8545';\nconst ropsten = `https://ropsten.infura.io/v3/${process.env.ropsten_key}`;\n// const rinkeby = 'https://rinkeby.infura.io/v3/${process.env.ropsten_key}';\nconst polgontestnet = 'https://matic-mumbai.chainstacklabs.com';\n// BSC mainnet\n// const mainnet = 'https://bsc-dataseed1.binance.org:443';\n// BSC testnet\n// Checking if Web3 has been injected by the browser (Mist/MetaMask)\nconst bsctestnet = 'https://data-seed-prebsc-1-s1.binance.org:8545';\n\nconst onConnect = async () => {\n  if (typeof window !== 'undefined' && typeof window.web3 !== 'undefined') {\n    // Use Mist/MetaMask's provider.\n    web3 = new Web3(Web3.givenProvider || bsctestnet);\n    const accounts = await web3.eth.requestAccounts();\n    // console.log(accounts);\n\n    console.log('Injected web3 detected.');\n    // automated switch network\n\n    window.ethereum.request({\n      method: 'wallet_addEthereumChain',\n      params: [\n        {\n          chainId: '0x61',\n          chainName: 'Smart Chain - Testnet',\n          nativeCurrency: {\n            name: 'Binance',\n            symbol: 'BNB', // 2-6 characters long\n            decimals: 18,\n          },\n          blockExplorerUrls: ['https://testnet.bscscan.com'],\n          rpcUrls: ['https://data-seed-prebsc-1-s1.binance.org:8545'],\n        },\n      ],\n\n    });\n\n    // end\n  } else {\n    // Fallback to localhost if no web3 injection. We've configured this to\n    // use the development console's port by default.\n    const provider = new Web3(ganache);\n    web3 = new Web3(provider);\n    console.log('No web3 instance injected, using Local web3.');\n  }\n};\n\nonConnect();\n\n// Update the document title using the browser API\n\nexport default web3;\n","import React, { Component } from 'react';\r\nimport './Setup.css';\r\n\r\nclass Setup extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"containersetup\">\r\n        <div className=\"setup\">\r\n          <p className=\"description-number\">\r\n            404\r\n          </p>\r\n          <p className=\"description-inner\">\r\n            Oops! Something wrong....\r\n          </p>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Setup;\r\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport { web3Connect } from '../../actions/web3Actions';\nimport Spinner from '../common/Spinner';\nimport Setup from './Setup';\n\nclass Main extends Component {\n  componentDidMount() {\n    this.props.web3Connect();\n  }\n\n  render() {\n    const { loading, error } = this.props.web3;\n\n    let renderItems;\n    if (loading) {\n      renderItems = <Spinner />;\n    } else if (error) {\n      renderItems = (\n        <>\n          <div className=\"alert alert-danger\" role=\"alert\">\n            <p>Oops! An error ocurred.</p>\n            <div>\n\n              {error}\n\n            </div>\n          </div>\n          <div>\n            <Setup />\n          </div>\n        </>\n      );\n    } else {\n      renderItems = this.props.children;\n    }\n\n    return (\n      <main role=\"main\">\n\n        <title>IPFS Uploader</title>\n\n        <div>{renderItems}</div>\n      </main>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  web3: state.web3,\n});\n\nexport default withRouter(connect(mapStateToProps, { web3Connect })(Main));\n","import contract from 'truffle-contract';\n\nimport web3 from '../utils/web3';\nimport ImageRegisterContractArtifact from '../contracts/ImageRegister.json';\nimport { WEB3_CONNECTED, WEB3_ERROR, WEB3_ACCOUNT_CHANGE } from './types';\nimport { getImages } from './imageActions';\n\nexport const web3Connect = () => async (dispatch, getState) => {\n  try {\n    const imageRegisterContract = contract(ImageRegisterContractArtifact);\n\n    imageRegisterContract.setProvider(web3.currentProvider);\n\n    // deployed contract\n    const contractInstance = await imageRegisterContract.deployed();\n    // start watching the contract events\n    contractInstance.LogImageUploaded((error, result) => {\n      if (error) {\n        console.log('LogImageUploaded event ERR', error);\n        dispatch({\n          type: WEB3_ERROR,\n          payload: {\n            loading: false,\n            error,\n          },\n        });\n      } else {\n        console.log('LogImageUploaded event', result);\n        dispatch(getImages());\n      }\n    });\n\n    // Watch for account change as described here:\n    // https://medium.com/coinmonks/\n    // detecting-metamask-account-or-network-change-in-javascript-using-web3-1-0-0-18433e99df5a\n    // web3.givenProvider.publicConfigStore.on(\n    //   'update',\n    //   async ({ selectedAddress }) => {\n    //     console.log('publicConfigStore:update event', selectedAddress);\n    //     if (selectedAddress) {\n    //       const lcSelectedAddress = selectedAddress.toLowerCase();\n    //       if (lcSelectedAddress !== getState().web3.account) {\n    //         await dispatch({\n    //           type: WEB3_ACCOUNT_CHANGE,\n    //           payload: lcSelectedAddress,\n    //         });\n    //         dispatch(getImages());\n    //       }\n    //     }\n    //   },\n    // );\n\n    // get the first account and ensure we are connected\n    const accounts = await web3.eth.getAccounts();\n    const account = accounts[0];\n    console.log('auth info', web3, contractInstance, account);\n    if (account) {\n      // we are connected\n      dispatch({\n        type: WEB3_CONNECTED,\n        payload: {\n          web3,\n          contractInstance,\n          account: account.toLowerCase(),\n          loading: false,\n        },\n      });\n    } else {\n      const error = 'Unable to get the list of accounts that control the node.Verify that MetaMask is connected to the proper network then reload the application.';\n\n      console.log(error);\n      dispatch({\n        type: WEB3_ERROR,\n        payload: {\n          loading: false,\n          error,\n        },\n      });\n    }\n  } catch (error) {\n    // unable to load the contract\n    const errorMessage = `Error loading 'ImageRegister' contract. Be sure\n  ' MetaMask is connected to a network and the\n  contract is deployed. ERR: ${error.message}`;\n    console.log(errorMessage);\n    dispatch({\n      type: WEB3_ERROR,\n      payload: {\n        loading: false,\n        error: errorMessage,\n      },\n    });\n  }\n};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass Navbar extends Component {\n  render() {\n    return (\n      <header>\n        <div className=\"collapse bg-dark\" id=\"navbarHeader\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-sm-8 col-md-7 py-4\">\n                <h4 className=\"text-white\">About</h4>\n                <p className=\"text-white\">Proof of Digital Existence</p>\n                <p className=\"text-box\">\n                  how to ensure that the data sharing process is safe,\n                  transparent, and fair? Therefore, we propose data\n                  producing, data storing, and data sharing schemas.\n                  In the data producing schema, we deploy a group signature\n                  scheme for a group of reputable organizations\n                  that provide the same type of service, an organization in the\n                  group generates a valuable digital data from raw data sent from a\n                  data owner and then issues a certificate\n                  on the ciphertext of this digital data.\n                  In the data storing schema, the data owner uploads his/her data to\n                  the public Inter-Planetary\n                  File System network and then stores the access address of the stored data and\n                  the corresponding certificate on the blockchain ledger.\n                </p>\n              </div>\n              <div className=\"col-sm-4 offset-md-1 py-4\">\n                <h4 className=\"text-white\">For more information</h4>\n                <ul className=\"list-unstyled\">\n                  <li>\n                    <a\n                      href=\"https://en.wikipedia.org/wiki/Ethereum\"\n                      className=\"text-white\"\n                    >\n                      Ethereum\n                    </a>\n                  </li>\n                  <li>\n                    <a\n                      href=\"https://en.wikipedia.org/wiki/Decentralized_application\"\n                      className=\"text-white\"\n                    >\n                      Decentralized application\n                    </a>\n                  </li>\n                  <li>\n                    <a\n                      href=\"https://en.wikipedia.org/wiki/Smart_contract\"\n                      className=\"text-white\"\n                    >\n                      Smart Contracts\n                    </a>\n                  </li>\n                  <li>\n                    <a\n                      href=\"https://ieeexplore.ieee.org/abstract/document/9499074\"\n                      className=\"text-white\"\n                    >\n                      A Reliability Guaranteed Solution for Data Storing and Sharing\n                    </a>\n                  </li>\n                  <li>\n                    <a\n                      href=\"https://github.com/hemakumarm72/IPFS-image-upload-blockchain\"\n                      className=\"text-white\"\n                    >\n                      Github code and Full Review Application\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"navbar navbar-dark bg-dark box-shadow\">\n          <div className=\"container d-flex justify-content-between\">\n            <Link to=\"/\" className=\"navbar-brand d-flex align-items-center\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"20\"\n                height=\"20\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                className=\"mr-2\"\n              >\n                <path d=\"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z\" />\n                <circle cx=\"12\" cy=\"13\" r=\"4\" />\n              </svg>\n              <strong>\n                Blockchain-based Decentralized Storage System with IPFS\n              </strong>\n            </Link>\n            <button\n              className=\"navbar-toggler\"\n              type=\"button\"\n              data-toggle=\"collapse\"\n              data-target=\"#navbarHeader\"\n              aria-controls=\"navbarHeader\"\n              aria-expanded=\"false\"\n              aria-label=\"Toggle navigation\"\n            >\n              <span className=\"navbar-toggler-icon\" />\n            </button>\n          </div>\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default Navbar;\n","import React from 'react';\n\nexport default function name() {\n  return (\n    <div>\n      <h1 className=\"display-4\">Page Not Found</h1>\n      <p>Sorry, this page does not exist</p>\n    </div>\n  );\n}\n","export const textTruncate = (str, length = 100, ending = '...') => {\n  if (str.length > length) {\n    return str.substring(0, length - ending.length) + ending;\n  }\n  return str;\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n// import Image, { Shimmer } from 'react-shimmer';\nimport './ImageItem.css';\nimport { textTruncate } from '../../utils/string';\n\nclass ImageItem extends Component {\n  static propTypes = {\n    image: PropTypes.object.isRequired,\n  };\n\n  render() {\n    const {\n      index,\n      ipfsHash,\n      title,\n      description,\n      tags,\n      uploadedOn,\n    } = this.props.image;\n\n    const altDescription = description || 'No description';\n\n    return (\n      <div className=\"col-md-4\">\n        <div className=\"card mb-4 box-shadow\">\n          <img\n            className=\"card-img-top\"\n            src={`https://ipfs.io/ipfs/${ipfsHash}`}\n            alt=\"Card\"\n          />\n          <div className=\"card-body\">\n            <h4 className=\"card-title\">{title}</h4>\n            <p className=\"card-text\">{textTruncate(altDescription, 25)}</p>\n            <hr />\n            <div>\n              <strong>IPFS Hash</strong>\n              <p>\n                <span className=\"text-muted\">{ipfsHash}</span>\n              </p>\n            </div>\n            <hr />\n            <p className=\"card-text\">\n              {tags.split(',').map((tag, idx) => (\n                <span key={idx} className=\"badge badge-pill badge-dark mr-2\">\n                  {tag}\n                </span>\n              ))}\n            </p>\n            <hr />\n            <div>\n              <Link to={`/images/${index}`} className=\"card-link\">\n                Details\n              </Link>\n              <a\n                target=\"_blank\"\n                href={`https://ipfs.io/ipfs/${ipfsHash}`}\n                className=\"card-link\"\n                rel=\"noreferrer\"\n              >\n                View on IPFS\n              </a>\n            </div>\n          </div>\n          <div className=\"card-footer text-muted\">\n            <small>\n              {uploadedOn === 'Pending'\n                ? 'PENDING'\n                : `Uploaded on ${uploadedOn}`}\n            </small>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ImageItem;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Spinner from '../common/Spinner';\nimport ImageItem from './ImageItem';\nimport { getImages } from '../../actions/imageActions';\n\n// const backgroundImage = require('../../assets/images/decentralized-network.jpg');\n\nclass Images extends Component {\n  static propTypes = {\n\n    getImages: PropTypes.func.isRequired,\n    image: PropTypes.object.isRequired,\n  };\n\n  componentDidMount() {\n    this.props.getImages();\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.props.image.images !== nextProps.image.images;\n  }\n\n  render() {\n    const { images, loading } = this.props.image;\n    let imageItems;\n\n    if (images === null || loading) {\n      imageItems = <Spinner />;\n    } else if (images.length > 0) {\n      imageItems = images.map((image) => (\n        <ImageItem key={image.index} image={image} />\n      ));\n    } else {\n      imageItems = <h4>No images found</h4>;\n    }\n\n    return (\n      <div>\n        <section\n          className=\"jumbotron text-center\"\n          style={{\n            backgroundSize: 'cover',\n            opacity: '1.0',\n          }}\n        >\n          <div className=\"container\">\n            <h1 className=\"jumbotron-heading\">Images</h1>\n            <p className=\"lead text-muted\">\n              Upload images to IPFS and store the IPFS hash on the Binance\n              Blockchain.\n            </p>\n            <p>\n              <small>\n                Metamask Account\n                {' '}\n                <mark>{this.props.web3.account || 'Not Connected'}</mark>\n              </small>\n            </p>\n            <p>\n              <Link to=\"/uploadimage\" className=\"btn btn-primary my-2\">\n                Upload Image\n              </Link>\n            </p>\n          </div>\n        </section>\n        <div className=\"album py-5 bg-light\">\n          <div className=\"container\">\n            <div className=\"row\">{imageItems}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  web3: state.web3,\n  image: state.image,\n});\n\nexport default connect(mapStateToProps, { getImages })(Images);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {\n  Button, Modal, Form,\n} from 'react-bootstrap';\nimport './ImageDetail.css';\nimport toastr from 'toastr';\nimport { times } from 'lodash';\n\nimport FileSaver from 'file-saver';\nimport { getImage, sharedImage } from '../../actions/imageActions';\nimport { ipfs } from '../../utils/ipfs';\n\nclass ImageDetail extends Component {\n  // state = { count: 0 };\n\n  state = {\n    show: false,\n    buttonDisabled: false,\n    sendAddress: '',\n    ipfsHash: '',\n    title: '',\n    description: '',\n    tags: '',\n  };\n\n  componentDidMount() {\n    this.props.getImage(this.props.match.params.index);\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.id]: event.target.value,\n    });\n  };\n\n  buttonClose = () => this.setState((prevState) => ({ buttonDisabled: !prevState.buttonDisabled }));\n\n  // download file ipfs server\n\n  handleSharedImage = async (event) => {\n    event.preventDefault(); // toggle functionn true or false\n    this.buttonClose();\n\n    const {\n      sendAddress, ipfsHash, title, description, tags,\n    } = this.state;\n    try {\n      const tx = await this.props.sharedImage(\n        sendAddress,\n        ipfsHash,\n        title,\n        description,\n        tags,\n      );\n      this.buttonClose(); // toggle function true or false\n      console.log('sharedImage tx receipt', tx);\n\n      toastr.success(\n        'Image uploaded.  It may take a while for MetaMask to respond, the transaction to be mined and the image to appear in the list.',\n      );\n    } catch (error) {\n      this.buttonClose();\n      toastr.error(error);\n    }\n    this.setState((prevState) => ({ show: !prevState.show }));\n  };\n\n  // download file features add\n  handleDownload = async (url, filename) => {\n    FileSaver.saveAs(`https://ipfs.io/ipfs/${url}`, `${filename}.jpg`);\n  };\n\n  handleDownloadbtn = async () => {\n    const { ipfsHash, title } = this.state;\n    if (typeof ipfsHash !== 'undefined' && typeof title !== 'undefined') {\n      this.handleDownload(ipfsHash, title);\n    }\n  };\n\n  // handleshow and handleclose there reactbootstrap\n  handleShow = () => this.setState((prevState) => ({ show: !prevState.show }));\n\n  handleClose = () => this.setState((prevState) => ({ show: !prevState.show }));\n  // increment = () => this.setState((prevState) => ({ count: prevState.count + 1 }));\n\n  // decrement = () => this.setState((prevState) => ({ count: prevState.count - 1 }));\n\n  render() {\n    const { show, sendAddress, buttonDisabled } = this.state;\n\n    //  const { count } = this.state;\n    const image = this.props.image ? this.props.image : {};\n    const {\n      ipfsHash,\n      title,\n      description,\n      tags,\n      uploadedOn,\n      blockHash,\n      blockNumber,\n      transactionHash,\n      transactionIndex,\n      cumulativeGasUsed,\n      gasUsed,\n    } = image;\n\n    this.state.ipfsHash = ipfsHash;\n    this.state.title = title;\n    this.state.description = description;\n    this.state.tags = tags;\n\n    return (\n\n      <div className=\"container\">\n        <div className=\"alert alert-info mt-3\" role=\"alert\">\n          Blockchain transaction information is\n          {' '}\n          <strong>not</strong>\n          {' '}\n          persisted.\n          This information\n          {' '}\n          <i>may</i>\n          {' '}\n          be lost when you refresh the browser or\n          login as another user.\n        </div>\n        <div className=\"mt-3 mb-3 group-box\">\n\n          <Link to=\"/\">Go Back</Link>\n          <div className=\"item--collection-toolbar-wrapper\">\n\n            {/* <button type=\"submit\" className=\"btn btn-primary\">\n              Share\n            </button> */}\n            <Button variant=\"primary\" onClick={this.handleShow}>\n              Share\n            </Button>\n\n            <Modal show={show} onHide={this.handleClose}>\n              <Modal.Header closeButton>\n                <Modal.Title>Share Photos</Modal.Title>\n              </Modal.Header>\n              <Modal.Body>\n                <Form>\n                  <Form.Group className=\"mb-3\" controlId=\"sendAddress\">\n                    <Form.Label>wallet address</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      ref={sendAddress}\n                      onChange={this.handleChange}\n                      placeholder=\"0x989..\"\n                    />\n                  </Form.Group>\n                </Form>\n              </Modal.Body>\n              <Modal.Footer>\n                <Button variant=\"secondary\" onClick={this.handleClose}>\n                  Close\n                </Button>\n                <Button variant=\"primary\" disabled={buttonDisabled} onClick={this.handleSharedImage}>\n\n                  {buttonDisabled ? 'sending..' : 'Send'}\n                </Button>\n\n              </Modal.Footer>\n            </Modal>\n          </div>\n\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-4\">\n            <div className=\"card mb-3\">\n              {ipfsHash ? (\n                <img\n                  src={`https://ipfs.io/ipfs/${ipfsHash}`}\n                  className=\"card-img-top\"\n                  alt={`${ipfsHash}`}\n                />\n              ) : (\n                <img\n                  src=\"https://api.fnkr.net/testimg/333x180/?text=IPFS\"\n                  className=\"card-img-top\"\n                  alt=\"NA\"\n                />\n              )}\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{title}</h5>\n                <p className=\"card-text\">{description}</p>\n                <p className=\"card-text\">\n                  <small className=\"text-muted\">\n                    Uploaded on\n                    {' '}\n                    {uploadedOn || 'N/A'}\n                  </small>\n                </p>\n              </div>\n            </div>\n            <div className=\"lead\">\n              <a\n                target=\"_blank\"\n                href={`https://ipfs.io/ipfs/${ipfsHash}`}\n                className={`btn btn-primary btn-lg ${!ipfsHash && 'disabled'}`}\n                role=\"button\"\n                rel=\"noreferrer\"\n              >\n                View on IPFS\n              </a>\n              <Button\n                variant=\"primary\"\n                className={`btn-download ${!ipfsHash && 'disabled'} `}\n                onClick={this.handleDownloadbtn}\n              >\n                download\n              </Button>\n            </div>\n\n          </div>\n          <div className=\"col-md-8\">\n            <h3>IPFS Hash</h3>\n            <p>\n              {ipfsHash ? (\n                <a\n                  target=\"_blank\"\n                  href={`https://ipfs.io/ipfs/${ipfsHash}`}\n                  className=\"lead\"\n                  role=\"button\"\n                  rel=\"noreferrer\"\n                >\n                  {ipfsHash}\n                </a>\n              ) : (\n                'N/A'\n              )}\n            </p>\n            <hr className=\"my-4\" />\n            <h3>Blockchain Details</h3>\n\n            <div className=\"table-responsive\">\n              <table className=\"table\">\n                <tbody>\n                  <tr>\n                    <th scope=\"row\">Transaction Hash</th>\n                    <td>{transactionHash || 'N/A'}</td>\n                  </tr>\n                  <tr>\n                    <th scope=\"row\">Transaction Index</th>\n                    <td>\n                      {transactionIndex || transactionIndex >= 0\n                        ? transactionIndex\n                        : 'N/A'}\n                    </td>\n                  </tr>\n                  <tr>\n                    <th scope=\"row\">Block Hash</th>\n                    <td>\n                      {blockHash || 'N/A'}\n                      {' '}\n                    </td>\n                  </tr>\n                  <tr>\n                    <th scope=\"row\">Block Number</th>\n                    <td>{blockNumber || 'N/A'}</td>\n                  </tr>\n                  <tr>\n                    <th scope=\"row\">Gas Used (wei)</th>\n                    <td>{gasUsed || 'N/A'}</td>\n                  </tr>\n                  <tr>\n                    <th scope=\"row\">Cumulative Gas Used (wei)</th>\n                    <td>{cumulativeGasUsed || 'N/A'}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <hr className=\"my-4\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  image: state.image.image,\n});\n\nexport default connect(mapStateToProps, { getImage, sharedImage })(ImageDetail);\n\n/*\n\n<dl className=\"row\">\n              <dt className=\"col-sm-4\">Transaction Hash</dt>\n              <dd className=\"col-sm-8\">\n                {transactionHash ? transactionHash : 'N/A'}\n              </dd>\n              <dt className=\"col-sm-4\">Transaction Index</dt>\n              <dd className=\"col-sm-8\">\n                {!Number.isNaN(transactionIndex) ? transactionIndex : 'N/A'}\n              </dd>\n              <dt className=\"col-sm-4\">Block Hash</dt>\n              <dd className=\"col-sm-8\">{blockHash ? blockHash : 'N/A'}</dd>\n              <dt className=\"col-sm-4\">Block Number</dt>\n              <dd className=\"col-sm-8\">{blockNumber ? blockNumber : 'N/A'}</dd>\n              <dt className=\"col-sm-4\">Gas Used (wei)</dt>\n              <dd className=\"col-sm-8\">{gasUsed ? gasUsed : 'N/A'}</dd>\n              <dt className=\"col-sm-4\">Cumulative Gas Used (wei)</dt>\n              <dd className=\"col-sm-8\">\n                {cumulativeGasUsed ? cumulativeGasUsed : 'N/A'}\n              </dd>\n            </dl>\n\n            */\n","import {\n  WEB3_CONNECTED,\n  WEB3_ERROR,\n  WEB3_ACCOUNT_CHANGE,\n} from '../actions/types';\n\nconst initialState = {\n  web3: null,\n  contractInstance: null,\n  account: null,\n  loading: true,\n  error: null,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case WEB3_CONNECTED:\n      return {\n        ...state,\n        web3: action.payload.web3,\n        contractInstance: action.payload.contractInstance,\n        account: action.payload.account,\n        loading: false,\n        error: null,\n      };\n    case WEB3_ACCOUNT_CHANGE:\n      return {\n        ...state,\n        account: action.payload,\n      };\n    case WEB3_ERROR:\n      return {\n        ...state,\n        web3: null,\n        contractInstance: null,\n        account: null,\n        loading: false,\n        error: action.payload.error,\n      };\n    default:\n      return state;\n  }\n};\n","import { keyBy } from 'lodash';\n\nimport {\n  GET_IMAGES,\n  GET_IMAGES_SUCCESS,\n  GET_IMAGE,\n  SET_ERROR,\n  UPLOAD_IMAGE,\n  UPLOAD_IMAGE_SUCCESS,\n} from '../actions/types';\n\nconst initialState = {\n  images: null,\n  image: null,\n  loading: false,\n  error: null,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case GET_IMAGES:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      };\n    case GET_IMAGES_SUCCESS:\n      const imagesByIndex = keyBy(state.images, 'index');\n      const updatedImages = action.payload.map((image) => {\n        const updatedImage = { ...imagesByIndex[image.index], ...image };\n        return updatedImage;\n      });\n      return {\n        ...state,\n        loading: false,\n        images: updatedImages,\n        error: null,\n        image: null,\n      };\n    case GET_IMAGE:\n      return {\n        ...state,\n        loading: false,\n        image: state.images ? state.images[action.payload] : null,\n        error: null,\n      };\n    case UPLOAD_IMAGE:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      };\n    case UPLOAD_IMAGE_SUCCESS:\n      return {\n        ...state,\n        images: [...state.images, action.payload],\n        loading: false,\n        error: null,\n      };\n    case SET_ERROR:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport web3Reducer from './web3Reducer';\nimport imageReducer from './imageReducer';\n\nexport default combineReducers({\n  web3: web3Reducer,\n  image: imageReducer,\n});\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './reducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst middleware = [thunk];\nconst store = createStore(\n  rootReducer,\n  {},\n  composeEnhancers(applyMiddleware(...middleware)),\n);\n\nexport default store;\n","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { lazy } from '@loadable/component';\r\n\r\nimport { Navbar, Main, NotFound } from '../components/layout';\r\n\r\nimport { Images } from '../components/images';\r\nimport { ImageDetail, UploadImage } from '../components/image';\r\n\r\nimport store from '../store';\r\n\r\n// const Navbar = lazy(() => import('../components/layout/Navbar'));\r\n// const Main = lazy(() => import('../components/layout/Main'));\r\n// const Images = lazy(() => import('../components/images/Images'));\r\n// const UploadImage = lazy(() => import('../components/image/UploadImage'));\r\n// const NotFound = lazy(() => import('../components/notFound/NotFound'));\r\n\r\nfunction Routers() {\r\n  return (\r\n    <Provider store={store}>\r\n      <Router>\r\n        <div className=\"App\">\r\n          <Navbar />\r\n          <Main>\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Images} />\r\n              <Route exact path=\"/uploadimage\" component={UploadImage} />\r\n              <Route exact path=\"/images/:index\" component={ImageDetail} />\r\n              <Route exact component={NotFound} />\r\n            </Switch>\r\n          </Main>\r\n        </div>\r\n      </Router>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default Routers;\r\n","import React, { Component } from 'react';\nimport Routers from './Routers/Routers';\n\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <Routers />\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import $ from 'jquery';\n// import Popper from 'popper.js';\nimport './index.css';\n// import 'bootstrap/dist/css/bootstrap.min.css';\nimport '../node_modules/toastr/build/toastr.min.css';\n// import 'bootstrap/dist/css/bootstrap.min.css';\n// import 'bootstrap/dist/js/bootstrap.bundle.min';\n// import 'web3'\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import React from 'react';\n\nimport spinner from './spinner.gif';\n\nexport default function name() {\n  return (\n    <div>\n      <img\n        src={spinner}\n        alt=\"Loading...\"\n        style={{ width: '200px', margin: 'auto', display: 'block' }}\n      />\n    </div>\n  );\n}\n","export default \"data:image/gif;base64,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\"","// using the infura.io node, otherwise IPFS requires you to run a\n// daemon on your own computer/server.\n\nimport IPFS from 'ipfs-api';\nimport bs58 from 'bs58';\n\nconst ipfs = new IPFS({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' });\n\n// run with local daemon\n// const ipfs = new ipfsApi(localhost, 5001, {protocol:http});\n\n// Return bytes32 hex string from base58 encoded ipfs hash,\n// stripping leading 2 bytes from 34 byte IPFS hash\n// Assume IPFS defaults: function:0x12=sha2, size:0x20=256 bits\n// E.g. \"QmNSUYVKDSvPUnRLKmuxk9diJ6yS96r1TrAXzjTiBcCLAL\" -->\n// \"0x017dfd85d4f6cb4dcd715a88101f7b1f06cd1e009b2327a0809d01eb9c91f231\"\n\nconst getBytes32FromIpfsHash = (ipfsListing) => {\n  const decoded = bs58.decode(ipfsListing);\n  return `0x${decoded.slice(2).toString('hex')}`;\n};\n\n// Return base58 encoded ipfs hash from bytes32 hex string,\n// E.g. \"0x017dfd85d4f6cb4dcd715a88101f7b1f06cd1e009b2327a0809d01eb9c91f231\"\n// --> \"QmNSUYVKDSvPUnRLKmuxk9diJ6yS96r1TrAXzjTiBcCLAL\"\n\nconst getIpfsHashFromBytes32 = (bytes32Hex) => {\n  // Add our default ipfs values for first 2 bytes:\n  // function:0x12=sha2, size:0x20=256 bits\n  // and cut off leading \"0x\"\n  const hashHex = `1220${bytes32Hex.slice(2)}`;\n  const hashBytes = Buffer.from(hashHex, 'hex');\n  const hashStr = bs58.encode(hashBytes);\n  return hashStr;\n};\n\nexport { ipfs, getBytes32FromIpfsHash, getIpfsHashFromBytes32 };\n","export const WEB3_CONNECTED = 'WEB3_CONNECTED';\nexport const WEB3_ERROR = 'WEB3_ERROR';\nexport const WEB3_ACCOUNT_CHANGE = 'WEB3_ACCOUNT_CHANGE';\nexport const GET_IMAGES = 'GET_IMAGES';\nexport const GET_IMAGES_SUCCESS = 'GET_IMAGES_SUCCESS';\nexport const GET_IMAGE = 'GET_IMAGE';\nexport const GET_IMAGE_SUCCESS = 'GET_IMAGE_SUCCESS';\nexport const UPLOAD_IMAGE = 'UPLOAD_IMAGE';\nexport const SHARE_IMAGE = 'SHARE_IMAGE';\nexport const SHARE_IMAGE_SUCCESS = 'SHARE_IMAGE_SUCCESS';\nexport const UPLOAD_IMAGE_SUCCESS = 'UPLOAD_IMAGE_SUCCESS';\nexport const SET_ERROR = 'SET_ERROR';\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport toastr from 'toastr';\n\nimport { uploadImage } from '../../actions/imageActions';\nimport Spinner from '../common/Spinner';\n\nclass UploadImage extends Component {\n  state = {\n    title: '',\n    description: '',\n    tags: '',\n    buffer: null,\n    file: null,\n  };\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.id]: event.target.value,\n    });\n  };\n\n  captureFile = (event) => {\n    const file = event.target.files[0];\n    const reader = new window.FileReader();\n    reader.readAsArrayBuffer(file);\n    reader.onloadend = () => {\n      this.setState({\n        buffer: Buffer(reader.result),\n        file: URL.createObjectURL(file),\n      });\n    };\n  };\n\n  handleUploadImage = async (event) => {\n    event.preventDefault();\n    const {\n      title, description, tags, buffer,\n    } = this.state;\n    console.log(title, description, buffer);\n    try {\n      await this.props.uploadImage(\n        buffer,\n        title,\n        description,\n        tags,\n        this.props.history,\n      );\n      toastr.success(\n        'Image uploaded.  It may take a while for MetaMask to respond, the transaction to be mined and the image to appear in the list.',\n      );\n    } catch (error) {\n      toastr.error(error);\n    }\n\n    // return to image list\n    this.props.history.push('/');\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <fieldset disabled={this.props.loading}>\n          <div className=\"row\">\n            <div className=\"col-md-8 m-auto\">\n              <h1 className=\"display-4 text-center mt-4\">Upload an image</h1>\n              {this.props.loading ? (\n                <Spinner />\n              ) : (\n                <p className=\"lead text-center\">\n                  Let's get some information before uploading your image to IPFS\n                  and the Blockchain\n                </p>\n              )}\n              <form\n                className=\"needs-validation\"\n                onSubmit={this.handleUploadImage}\n              >\n                <div className=\"form-group\">\n                  <label htmlFor=\"title\">Title *</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"title\"\n                    placeholder=\"Title\"\n                    value={this.state.title}\n                    onChange={this.handleChange}\n                    required\n                  />\n                  <div className=\"invalid-feedback\">Title is required.</div>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"description\">Description</label>\n                  <textarea\n                    className=\"form-control\"\n                    id=\"description\"\n                    placeholder=\"Description\"\n                    rows=\"3\"\n                    value={this.state.description}\n                    onChange={this.handleChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"tags\">Tags *</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"tags\"\n                    placeholder=\"Tags\"\n                    value={this.state.tags}\n                    onChange={this.handleChange}\n                    required\n                  />\n                  <small id=\"tagsHelpBlock\" className=\"form-text text-muted\">\n                    Comma-delimited e.g Baseball, Softball, Soccer.\n                  </small>\n                  <div className=\"invalid-feedback\">Tags are required.</div>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"file\">Image *</label>\n                  <input\n                    type=\"file\"\n                    className=\"form-control-file\"\n                    id=\"file\"\n                    onChange={this.captureFile}\n                    required\n                  />\n                  <div className=\"invalid-feedback\">Image required.</div>\n                </div>\n                <small className=\"d-block pb-3\">* = required fields</small>\n                <small className=\"d-block pb-3\">\n                  Uploading the same file multiple times will result in the same\n                  file with the same hash being uploaded.\n                </small>\n                <div className=\"mb-3\">\n                  <Link to=\"/\" className=\"btn btn-secondary mr-2\">\n                    Cancel\n                  </Link>\n                  <button type=\"submit\" className=\"btn btn-primary\">\n                    Upload\n                  </button>\n                </div>\n              </form>\n              {this.state.file && (\n                <div className=\"text-center mt-3 mb-3\">\n                  <img\n                    src={this.state.file}\n                    className=\"img-thumbnail\"\n                    alt=\"Preview\"\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n        </fieldset>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  loading: state.image.loading,\n});\n\nexport default connect(mapStateToProps, { uploadImage })(UploadImage);\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 900;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 979;","import { keyBy } from 'lodash';\nimport { title } from 'process';\n\nimport { ipfs } from '../utils/ipfs';\n\nimport {\n  GET_IMAGES,\n  GET_IMAGES_SUCCESS,\n  GET_IMAGE,\n  UPLOAD_IMAGE,\n  SHARE_IMAGE,\n  UPLOAD_IMAGE_SUCCESS,\n  SHARE_IMAGE_SUCCESS,\n  SET_ERROR,\n} from './types';\n\n// Get all images\nexport const getImages = () => async (dispatch, getState) => {\n  dispatch({ type: GET_IMAGES });\n\n  const web3State = getState().web3;\n\n  // Retrieve image state from local storage\n  const localData = localStorage.getItem(web3State.account);\n  const localImages = localData ? JSON.parse(localData) : [];\n  const imagesByIndex = keyBy(localImages, 'index');\n\n  const images = [];\n  try {\n    const count = await web3State.contractInstance.getImageCount.call(\n      web3State.account,\n      {\n        from: web3State.account,\n      },\n    );\n    //  console.log(count);\n    const imageCount = count.toNumber();\n\n    for (let index = 0; index < imageCount; index++) {\n      const imageResult = await web3State.contractInstance.getImage.call(\n        web3State.account,\n        index,\n        {\n          from: web3State.account,\n        },\n      );\n\n      // Image for UI\n      const image = {\n        ...imagesByIndex[index],\n        index,\n        ipfsHash: imageResult[0],\n        title: imageResult[1],\n        description: imageResult[2],\n        tags: imageResult[3],\n        uploadedOn: convertTimestampToString(imageResult[4]),\n      };\n      images.push(image);\n    }\n\n    // Save image state to local storage\n    localStorage.setItem(web3State.account, JSON.stringify(images));\n\n    dispatch({ type: GET_IMAGES_SUCCESS, payload: images });\n  } catch (error) {\n    console.log('error', error);\n    dispatch({ type: SET_ERROR, payload: error });\n  }\n};\n\n// getImagebyindex\n// export const getImagebyindex = (index) => async (dispatch, getState) => {\n//   dispatch({ type: GET_IMAGES });\n//   const web3State = getState().web3;\n//   try {\n//     const imageResult = await web3State.contractInstance.getImage.call(\n//       web3State.account,\n//       index,\n//       {\n//         from: web3State.account,\n//       },\n//     );\n//     const Image = {\n//       ipfsHash: imageResult[0],\n//       title: imageResult[1],\n//       description: imageResult[2],\n//       tags: imageResult[3],\n//     };\n//     console.log(Image);\n//   } catch (error) {\n//     console.log('error', error);\n//     dispatch({ type: SET_ERROR, payload: error });\n//   }\n// };\n// sharedImage\n\n// upload an image\nexport const uploadImage = (\n  buffer,\n  title,\n  description,\n  tags,\n  history,\n) => async (dispatch, getState) => {\n  dispatch({ type: UPLOAD_IMAGE });\n\n  // Add image to IPFS\n  ipfs.files.add(buffer, async (error, result) => {\n    if (error) {\n      console.log('ERR', error);\n      dispatch({\n        type: SET_ERROR,\n        payload: {\n          error,\n        },\n      });\n    } else {\n      const ipfsHash = result[0].hash; // base58 encoded multihash\n      ipfs.files.get(ipfsHash, (error, files) => {\n        console.log(files);\n      });\n\n      const web3State = getState().web3;\n      const { contractInstance } = web3State;\n      try {\n        // Success, upload IPFS and metadata to the blockchain\n        const txReceipt = await contractInstance.uploadImage(\n          ipfsHash,\n          title,\n          description,\n          tags,\n          {\n            from: web3State.account,\n          },\n        );\n\n        console.log('uploadImage tx receipt', txReceipt);\n\n        const {\n          blockHash,\n          blockNumber,\n          transactionHash,\n          transactionIndex,\n          cumulativeGasUsed,\n          gasUsed,\n        } = txReceipt.receipt;\n\n        // Determine index based on length of images array; otherwise,\n        // would need to call contract to get length\n        const index = getState().image.images.length\n          ? getState().image.images.length\n          : 0;\n\n        const newImage = {\n          index,\n          ipfsHash,\n          title,\n          description,\n          tags,\n          uploadedOn: 'Pending',\n          blockHash,\n          blockNumber,\n          transactionHash,\n          transactionIndex,\n          cumulativeGasUsed,\n          gasUsed,\n        };\n\n        // Update persisted state in local storage\n        const localData = localStorage.getItem(web3State.account);\n        const localImages = localData ? JSON.parse(localData) : [];\n        localImages.push(newImage);\n        localStorage.setItem(web3State.account, JSON.stringify(localImages));\n\n        dispatch({\n          type: UPLOAD_IMAGE_SUCCESS,\n          payload: newImage,\n        });\n      } catch (error) {\n        console.log('ERR', error);\n        dispatch({\n          type: SET_ERROR,\n          payload: {\n            error,\n          },\n        });\n        throw error;\n      }\n    }\n  });\n};\n\n// Shared Image\nexport const sharedImage = (\n  sendAddress,\n  ipfsHash,\n  title,\n  description,\n  tags,\n) => async (dispatch, getState) => {\n  dispatch({ type: SHARE_IMAGE });\n  const web3State = getState().web3;\n  const { contractInstance } = web3State;\n\n  try {\n    const txReceipt = await contractInstance.shareImage(\n      sendAddress,\n      ipfsHash,\n      title,\n      description,\n      tags,\n      {\n        from: web3State.account,\n      },\n    );\n\n    // console.log('sharedImage tx receipt', txReceipt);\n\n    dispatch({\n      type: SHARE_IMAGE_SUCCESS,\n      payload: txReceipt,\n    });\n    return txReceipt;\n  } catch (error) {\n    console.log('ERR', error);\n    dispatch({\n      type: SET_ERROR,\n      payload: {\n        error,\n      },\n    });\n    throw error;\n  }\n};\n// Get image by index\nexport const getImage = (index) => ({ type: GET_IMAGE, payload: index });\n\nconst convertTimestampToString = (timestamp) => {\n  const tempDate = timestamp.toNumber();\n  return tempDate !== 0 ? new Date(tempDate * 1000).toString() : null;\n};\n"],"sourceRoot":""}